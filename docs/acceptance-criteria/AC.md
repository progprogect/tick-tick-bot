# Acceptance Criteria (AC)
## Telegram Bot для управления TickTick

**Версия:** 1.0  
**Дата:** 2024-11-04  
**Статус:** Draft

---

## Легенда

- **AC-XX**: Уникальный идентификатор Acceptance Criteria
- **FR-XX**: Ссылка на Functional Requirement из BRD
- **US-XX**: Ссылка на User Story
- **Приоритет**: High / Medium / Low
- **Статус**: Not Started / In Progress / Done / Blocked

---

## 1. Управление задачами

### AC-1: Создание задачи через голос (FR-1, US-1)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Голосовой ввод:**
   - ✅ Пользователь отправляет голосовое сообщение в Telegram бот
   - ✅ Бот принимает голосовое сообщение (формат: OGG, MP3, M4A)
   - ✅ Голос конвертируется в текст через Telegram Speech-to-Text или OpenAI Whisper
   - ✅ Текст команды передается в GPT для обработки

2. **Обработка команды:**
   - ✅ GPT определяет, что команда относится к созданию задачи
   - ✅ GPT извлекает параметры задачи из команды:
     - Название задачи (обязательно)
     - Список (опционально, по умолчанию "Inbox")
     - Дата выполнения (опционально)
     - Приоритет (опционально)
     - Теги (опционально)
   - ✅ GPT формирует структурированный JSON запрос для TickTick API

3. **Создание задачи:**
   - ✅ Запрос отправляется в TickTick API через OAuth 2.0
   - ✅ Задача успешно создается в TickTick
   - ✅ Возвращается ID созданной задачи

4. **Обратная связь:**
   - ✅ Бот отправляет подтверждение пользователю в течение 5 секунд
   - ✅ Сообщение содержит: название задачи, список, дату (если указана)
   - ✅ В случае ошибки отправляется понятное сообщение об ошибке

**Примеры команд:**
- "Добавь задачу купить молоко"
- "Создай задачу подготовить отчет к завтрашнему дню"
- "Задача: позвонить маме сегодня в списке Личное"

---

### AC-2: Создание задачи через текст (FR-1, US-2)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Текстовый ввод:**
   - ✅ Пользователь отправляет текстовое сообщение в Telegram бот
   - ✅ Бот принимает сообщение (до 4096 символов)
   - ✅ Текст команды передается в GPT для обработки

2. **Обработка команды:**
   - ✅ GPT определяет, что команда относится к созданию задачи
   - ✅ GPT извлекает параметры задачи (см. AC-1)
   - ✅ GPT формирует структурированный JSON запрос для TickTick API

3. **Создание задачи:**
   - ✅ Задача успешно создается в TickTick
   - ✅ Возвращается ID созданной задачи

4. **Обратная связь:**
   - ✅ Бот отправляет подтверждение пользователю в течение 3 секунд
   - ✅ Сообщение содержит информацию о созданной задаче

**Примеры команд:**
- "Создай задачу: купить продукты"
- "Добавь в список Работа задачу подготовить презентацию на завтра"
- "Новая задача - позвонить клиенту сегодня в 14:00"

---

### AC-3: Редактирование задачи (FR-2, US-3)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Идентификация задачи:**
   - ✅ Пользователь указывает задачу для редактирования (по названию, ID или контексту)
   - ✅ GPT определяет, какая задача имеется в виду
   - ✅ Система находит задачу в TickTick по названию или ID

2. **Определение изменений:**
   - ✅ GPT определяет, какие параметры нужно изменить:
     - Название задачи
     - Описание/заметки
     - Дата выполнения
     - Список
     - Статус (выполнено/невыполнено)
     - Приоритет
     - Теги
   - ✅ GPT формирует запрос на обновление задачи

3. **Обновление задачи:**
   - ✅ Задача обновляется в TickTick через API
   - ✅ Возвращается подтверждение успешного обновления

4. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием измененных параметров
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Измени задачу купить молоко на завтра"
- "Перенеси задачу подготовить отчет на следующий понедельник"
- "Отметь задачу позвонить маме как выполненную"

---

### AC-4: Удаление задачи (FR-3, US-4)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Идентификация задачи:**
   - ✅ Пользователь указывает задачу для удаления
   - ✅ GPT определяет задачу по названию или контексту
   - ✅ Система находит задачу в TickTick

2. **Удаление:**
   - ✅ Задача удаляется в TickTick через API
   - ✅ Возвращается подтверждение удаления

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение удаления
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Удали задачу купить молоко"
- "Убери из списка задачу подготовить отчет"

---

### AC-5: Перенос задач между списками (FR-4, US-6)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Идентификация задачи и списка:**
   - ✅ Пользователь указывает задачу и целевой список
   - ✅ GPT определяет задачу и список из команды
   - ✅ Система проверяет существование списка в TickTick

2. **Перенос:**
   - ✅ Задача переносится в указанный список через TickTick API
   - ✅ Возвращается подтверждение переноса

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием нового списка
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Перенеси задачу купить молоко в список Покупки"
- "Перемести задачу подготовить отчет в список Работа"

---

### AC-6: Массовый перенос просроченных задач (FR-4, US-5)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Определение просроченных задач:**
   - ✅ Пользователь дает команду на массовый перенос
   - ✅ GPT определяет критерии:
     - Дата "вчера" или конкретная дата
     - Статус "просроченные" (дата в прошлом, задача не выполнена)
   - ✅ Система запрашивает список задач из TickTick за указанный период

2. **Фильтрация задач:**
   - ✅ Система фильтрует задачи:
     - Дата выполнения в прошлом (до указанной даты)
     - Статус: не выполнено
   - ✅ Формируется список задач для переноса

3. **Массовый перенос:**
   - ✅ Все найденные задачи переносятся на указанную дату (сегодня)
   - ✅ Обновление выполняется батчами (если задач > 10)
   - ✅ Возвращается количество перенесенных задач

4. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с количеством перенесенных задач
   - ✅ Если задач не найдено, отправляется соответствующее сообщение
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Перенеси все просроченные задачи со вчера на сегодня"
- "Перемести все невыполненные задачи с прошлой недели на сегодня"

---

### AC-7: Добавление тегов к задачам (FR-5, US-7)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Идентификация задачи и тегов:**
   - ✅ Пользователь указывает задачу и теги для добавления
   - ✅ GPT определяет задачу и список тегов из команды
   - ✅ Система проверяет существование тегов в TickTick (или создает новые)

2. **Добавление тегов:**
   - ✅ Теги добавляются к задаче через TickTick API
   - ✅ Возвращается подтверждение добавления

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием добавленных тегов
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Добавь теги срочно и важное к задаче подготовить отчет"
- "Пометь задачу купить молоко тегом покупки"

---

### AC-8: Массовое добавление тегов с определением срочности (FR-5, US-8)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Определение задач и контекста:**
   - ✅ Пользователь дает команду на массовое добавление тегов
   - ✅ GPT определяет:
     - Список задач (например, "все задачи из списка A")
     - Критерии определения срочности (например, "на основе целей недели")
   - ✅ Система получает список задач из TickTick

2. **Анализ срочности:**
   - ✅ GPT получает список задач и цели недели (если доступны)
   - ✅ GPT анализирует взаимосвязи между задачами и целями
   - ✅ GPT определяет уровни срочности для каждой задачи:
     - Высокая срочность
     - Средняя срочность
     - Низкая срочность
   - ✅ GPT формирует маппинг: задача → тег срочности

3. **Массовое добавление тегов:**
   - ✅ Теги срочности добавляются к задачам через TickTick API
   - ✅ Обновление выполняется батчами (если задач > 10)
   - ✅ Возвращается количество обновленных задач

4. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с количеством обновленных задач
   - ✅ Бот может отправить краткую сводку по распределению срочности
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Добавь ко всем задачам из списка A теги срочности. Определи сам, что наиболее срочно, на основе целей недели"
- "Расставь приоритеты для всех задач в списке Работа на основе целей недели"

---

### AC-9: Добавление заметок к задачам (FR-6, US-9)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Идентификация задачи и заметки:**
   - ✅ Пользователь указывает задачу и текст заметки
   - ✅ GPT определяет задачу и заметку из команды
   - ✅ Система находит задачу в TickTick

2. **Добавление заметки:**
   - ✅ Заметка добавляется к задаче через TickTick API
   - ✅ Если заметка уже существует, она обновляется или дополняется
   - ✅ Возвращается подтверждение добавления

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием задачи
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Добавь заметку к задаче подготовить отчет: использовать данные из прошлого квартала"
- "Запиши к задаче купить молоко: не забыть проверить срок годности"

---

### AC-10: Создание повторяющихся задач (FR-7, US-10)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Определение параметров повторения:**
   - ✅ Пользователь указывает задачу и тип повторения
   - ✅ GPT определяет:
     - Название задачи
     - Тип повторения (ежедневно, еженедельно, ежемесячно)
     - Дата начала повторения
     - Дата окончания повторения (опционально)
   - ✅ GPT формирует запрос с параметрами повторения

2. **Создание повторяющейся задачи:**
   - ✅ Задача создается в TickTick с параметрами повторения через API
   - ✅ Возвращается подтверждение создания

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием типа повторения
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Создай повторяющуюся задачу ежедневно: выпить стакан воды в 8:00"
- "Установи еженедельную задачу: подготовить отчет каждый понедельник"

---

### AC-11: Установка напоминаний (FR-8, US-11)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Определение задачи и времени:**
   - ✅ Пользователь указывает задачу и время напоминания
   - ✅ GPT определяет:
     - Задачу (по названию или контексту)
     - Время напоминания (например, "12:45", "завтра в 10:00")
     - Дата напоминания (если не указана, используется дата задачи)
   - ✅ GPT конвертирует время в формат TickTick API

2. **Установка напоминания:**
   - ✅ Напоминание устанавливается для задачи через TickTick API
   - ✅ Возвращается подтверждение установки

3. **Обратная связь:**
   - ✅ Бот отправляет подтверждение с указанием времени напоминания
   - ✅ В случае ошибки отправляется понятное сообщение

**Примеры команд:**
- "Установи напоминание на 12:45 для задачи связаться с управляющей"
- "Напомни мне завтра в 10:00 о задаче позвонить клиенту"

---

## 2. Обработка команд

### AC-12: Распознавание голосовых сообщений (FR-10, US-12)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Прием голосового сообщения:**
   - ✅ Бот получает голосовое сообщение через Telegram Bot API
   - ✅ Поддерживаются форматы: OGG, MP3, M4A
   - ✅ Максимальная длительность: 60 секунд (ограничение Telegram)

2. **Конвертация голоса в текст:**
   - ✅ Голосовое сообщение конвертируется в текст через:
     - Telegram Speech-to-Text API (если доступно)
     - Или OpenAI Whisper API через n8n
   - ✅ Текст передается для дальнейшей обработки
   - ✅ Время конвертации < 5 секунд для сообщений до 30 секунд

3. **Обработка ошибок:**
   - ✅ Если голос не распознан, отправляется сообщение с просьбой повторить
   - ✅ Если формат не поддерживается, отправляется соответствующее сообщение
   - ✅ Если длительность превышает лимит, отправляется предупреждение

**Примеры использования:**
- Пользователь отправляет голосовое сообщение: "Добавь задачу купить молоко"
- Бот распознает и конвертирует в текст
- Текст передается в GPT для обработки

---

### AC-13: Парсинг команд через GPT (FR-11, US-13)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Получение команды:**
   - ✅ Команда пользователя (текст или конвертированный из голоса) передается в GPT
   - ✅ Команда передается в контексте предыдущих сообщений (если есть)
   - ✅ Максимальная длина команды: 4096 символов

2. **Анализ команды:**
   - ✅ GPT анализирует команду и определяет:
     - **Тип действия**: создание, редактирование, удаление, перенос, добавление тегов, заметок, повторение, напоминание, аналитика
     - **Параметры задачи**:
       - Название (если применимо)
       - Список (если указан)
       - Дата выполнения (если указана)
       - Приоритет (если указан)
       - Теги (если указаны)
       - Заметки (если указаны)
     - **Контекст и неявные требования**:
       - Определение срочности из контекста
       - Массовые операции
       - Связь с целями недели

3. **Формирование структурированного запроса:**
   - ✅ GPT формирует JSON запрос в формате TickTick API:
     ```json
     {
       "action": "create_task",
       "title": "Название задачи",
       "projectId": "project_id",
       "dueDate": "2024-11-05T00:00:00+0000",
       "priority": 1,
       "tags": ["tag1", "tag2"],
       "notes": "Заметка"
     }
     ```
   - ✅ Запрос валидируется перед отправкой в TickTick API

4. **Обработка неоднозначностей:**
   - ✅ Если команда неоднозначна, GPT запрашивает уточнение через бота
   - ✅ Если задача не найдена, GPT предлагает варианты или запрашивает уточнение
   - ✅ Если параметры отсутствуют, GPT использует значения по умолчанию

5. **Обработка ошибок:**
   - ✅ Если GPT не может определить действие, отправляется сообщение с просьбой уточнить
   - ✅ Если запрос некорректен, отправляется сообщение об ошибке

**Примеры команд:**
- "Создай задачу купить молоко" → `{"action": "create_task", "title": "купить молоко"}`
- "Перенеси все просроченные задачи со вчера на сегодня" → `{"action": "bulk_update", "filter": {"dueDate": "yesterday", "status": "incomplete"}, "update": {"dueDate": "today"}}`

---

### AC-14: Контекстное определение срочности (FR-11, US-14)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Получение контекста:**
   - ✅ GPT получает список задач для анализа
   - ✅ GPT получает цели недели (если доступны)
   - ✅ GPT получает историю выполнения задач (опционально)

2. **Анализ срочности:**
   - ✅ GPT анализирует взаимосвязи между задачами и целями
   - ✅ GPT определяет факторы срочности:
     - Сроки выполнения
     - Зависимости между задачами
     - Приоритеты целей
     - Исторические данные
   - ✅ GPT присваивает уровень срочности каждой задаче:
     - Высокая (urgent)
     - Средняя (medium)
     - Низкая (low)

3. **Формирование результата:**
   - ✅ GPT формирует маппинг: задача → тег срочности
   - ✅ Результат передается для массового добавления тегов

**Примеры использования:**
- Пользователь: "Добавь ко всем задачам из списка A теги срочности на основе целей недели"
- GPT анализирует задачи и цели
- GPT определяет срочность для каждой задачи
- Теги добавляются к задачам

---

## 3. Аналитика

### AC-15: Аналитика рабочего времени (FR-13, US-15)

**Приоритет**: Medium  
**Статус**: Not Started

**Критерии приёмки:**

1. **Получение запроса:**
   - ✅ Пользователь запрашивает аналитику рабочего времени за период
   - ✅ GPT определяет период из команды (например, "за прошлую неделю", "за ноябрь")
   - ✅ GPT определяет тип аналитики (рабочее время, личное время, общее)

2. **Сбор данных:**
   - ✅ Система запрашивает задачи из TickTick за указанный период
   - ✅ Система фильтрует задачи по тегам или спискам:
     - Рабочие задачи (список "Работа" или тег "работа")
     - Личные задачи (список "Личное" или тег "личное")
   - ✅ Система получает данные о времени выполнения задач (если доступны)

3. **Подсчет времени:**
   - ✅ Система подсчитывает рабочее время:
     - Сумма времени выполнения рабочих задач
     - Или количество задач с оценкой времени
   - ✅ Система подсчитывает личное время (аналогично)
   - ✅ Система формирует текстовую сводку

4. **Формирование ответа:**
   - ✅ GPT формирует текстовый ответ с аналитикой:
     - "Вы на прошлой неделе работали 40 часов"
     - "Личное время: 15 часов"
     - "Общее время: 55 часов"
   - ✅ Ответ отправляется пользователю через бота

**Примеры команд:**
- "Сколько за ту неделю было рабочего времени и личного"
- "Проанализируй мое рабочее время за прошлый месяц"

---

### AC-16: Анализ и оптимизация расписания (FR-14, US-16)

**Приоритет**: Low  
**Статус**: Not Started

**Критерии приёмки:**

1. **Получение запроса:**
   - ✅ Пользователь запрашивает анализ расписания
   - ✅ GPT определяет период анализа (если указан)

2. **Сбор данных:**
   - ✅ Система запрашивает текущее расписание из TickTick
   - ✅ Система получает данные о выполнении задач за период
   - ✅ Система получает цели недели (если доступны)

3. **Анализ расписания:**
   - ✅ GPT анализирует:
     - Распределение задач по времени
     - Перегрузки и пустые периоды
     - Соответствие задач целям
     - Эффективность выполнения
   - ✅ GPT определяет узкие места и проблемы

4. **Формирование рекомендаций:**
   - ✅ GPT предлагает оптимизации:
     - Перераспределение задач
     - Изменение приоритетов
     - Улучшение планирования
   - ✅ Рекомендации формулируются в текстовом виде

5. **Отправка ответа:**
   - ✅ Бот отправляет текстовые рекомендации пользователю
   - ✅ Рекомендации структурированы и понятны

**Примеры команд:**
- "Проанализируй и предложи оптимизацию расписания"
- "Как я могу улучшить свое планирование?"

---

## 4. Интеграции

### AC-17: Интеграция с Telegram Bot API (FR-16, US-18)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Регистрация бота:**
   - ✅ Бот зарегистрирован в Telegram с токеном: `7008534039:AAFew6otgYEhLSYS4hYlnzZfFDsjTRMRPPk`
   - ✅ Бот доступен по username: `@TickTick_My_bot`
   - ✅ Бот отвечает на команды `/start` и `/help`

2. **Прием текстовых сообщений:**
   - ✅ Бот принимает текстовые сообщения от пользователей
   - ✅ Максимальная длина сообщения: 4096 символов
   - ✅ Бот обрабатывает команды в реальном времени

3. **Прием голосовых сообщений:**
   - ✅ Бот принимает голосовые сообщения (форматы: OGG, MP3, M4A)
   - ✅ Максимальная длительность: 60 секунд
   - ✅ Бот обрабатывает голосовые сообщения

4. **Отправка ответов:**
   - ✅ Бот отправляет текстовые ответы пользователям
   - ✅ Бот отправляет подтверждения операций
   - ✅ Бот отправляет сообщения об ошибках

5. **Обработка ошибок:**
   - ✅ Бот обрабатывает ошибки API и отправляет понятные сообщения
   - ✅ Бот логирует все ошибки для отладки

---

### AC-18: Интеграция с TickTick API (FR-15, US-19)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Аутентификация:**
   - ✅ Система аутентифицируется в TickTick API через OAuth 2.0
   - ✅ Токены безопасно хранятся и обновляются
   - ✅ Система обрабатывает истечение токенов

2. **Создание задач:**
   - ✅ Система может создавать задачи через TickTick API
   - ✅ Система поддерживает все параметры задач:
     - Название, описание, дата, список, теги, приоритет, заметки
   - ✅ Система обрабатывает ответы API

3. **Редактирование задач:**
   - ✅ Система может редактировать задачи через TickTick API
   - ✅ Система может обновлять все параметры задач
   - ✅ Система обрабатывает ответы API

4. **Удаление задач:**
   - ✅ Система может удалять задачи через TickTick API
   - ✅ Система обрабатывает ответы API

5. **Работа со списками и тегами:**
   - ✅ Система может работать со списками задач
   - ✅ Система может работать с тегами
   - ✅ Система может создавать новые списки и теги при необходимости

6. **Обработка ошибок:**
   - ✅ Система обрабатывает ошибки API (400, 401, 404, 500)
   - ✅ Система отправляет понятные сообщения об ошибках пользователю
   - ✅ Система логирует все ошибки для отладки

**Документация API:**
- https://developer.ticktick.com/docs#/openapi

---

### AC-19: Интеграция через n8n (FR-17, US-20)

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Получение сообщений из Telegram:**
   - ✅ n8n получает сообщения из Telegram Bot API
   - ✅ n8n обрабатывает текстовые и голосовые сообщения
   - ✅ n8n передает сообщения в следующий шаг workflow

2. **Передача в GPT:**
   - ✅ n8n передает сообщения в OpenAI GPT API
   - ✅ n8n использует токен: `<YOUR_OPENAI_API_KEY>`
   - ✅ n8n передает промпт и контекст в GPT
   - ✅ n8n получает ответ от GPT

3. **Выполнение действий в TickTick:**
   - ✅ n8n получает структурированный запрос от GPT
   - ✅ n8n выполняет действия в TickTick API
   - ✅ n8n получает ответ от TickTick API

4. **Отправка ответа в Telegram:**
   - ✅ n8n формирует ответ на основе результата выполнения
   - ✅ n8n отправляет ответ обратно в Telegram
   - ✅ n8n обрабатывает ошибки на каждом этапе

5. **Обработка ошибок:**
   - ✅ n8n обрабатывает ошибки на каждом этапе workflow
   - ✅ n8n отправляет понятные сообщения об ошибках в Telegram
   - ✅ n8n логирует все ошибки для отладки

**Workflow:**
```
Telegram → n8n → GPT → n8n → TickTick API → n8n → Telegram
```

---

## 5. Общие критерии приёмки

### AC-20: Производительность

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Время ответа:**
   - ✅ Время ответа бота на команду < 5 секунд (для текстовых команд)
   - ✅ Время обработки голосовых сообщений < 10 секунд
   - ✅ Время выполнения операций в TickTick API < 3 секунд

2. **Пропускная способность:**
   - ✅ Система поддерживает до 100 одновременных пользователей
   - ✅ Система обрабатывает до 10 команд в секунду

---

### AC-21: Безопасность

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Хранение токенов:**
   - ✅ Токены (TickTick, OpenAI, Telegram) хранятся безопасно
   - ✅ Токены не хранятся в коде или публичных репозиториях
   - ✅ Токены обновляются при необходимости

2. **Аутентификация:**
   - ✅ Пользователи аутентифицируются через Telegram
   - ✅ Система проверяет авторизацию перед выполнением операций

3. **Защита от злоупотреблений:**
   - ✅ Система защищена от спама
   - ✅ Система ограничивает количество запросов от одного пользователя
   - ✅ Система логирует подозрительную активность

---

### AC-22: UX/UI

**Приоритет**: High  
**Статус**: Not Started

**Критерии приёмки:**

1. **Простота использования:**
   - ✅ Интерфейс простой и интуитивный
   - ✅ Команды понятны пользователю
   - ✅ Ответы бота четкие и информативные

2. **Обратная связь:**
   - ✅ Бот отправляет подтверждения всех операций
   - ✅ Бот отправляет статус выполнения длительных операций
   - ✅ Бот отправляет понятные сообщения об ошибках

3. **Консистентность:**
   - ✅ Сообщения бота консистентны по стилю и формату
   - ✅ Команды работают одинаково во всех сценариях
   - ✅ Ошибки обрабатываются единообразно

---

## Матрица соответствия AC ↔ FR ↔ US

| AC | FR | US | Приоритет | Статус |
|----|----|----|-----------|--------|
| AC-1 | FR-1 | US-1 | High | Not Started |
| AC-2 | FR-1 | US-2 | High | Not Started |
| AC-3 | FR-2 | US-3 | High | Not Started |
| AC-4 | FR-3 | US-4 | High | Not Started |
| AC-5 | FR-4 | US-6 | High | Not Started |
| AC-6 | FR-4 | US-5 | High | Not Started |
| AC-7 | FR-5 | US-7 | Medium | Not Started |
| AC-8 | FR-5 | US-8 | Medium | Not Started |
| AC-9 | FR-6 | US-9 | Medium | Not Started |
| AC-10 | FR-7 | US-10 | Medium | Not Started |
| AC-11 | FR-8 | US-11 | Medium | Not Started |
| AC-12 | FR-10 | US-12 | High | Not Started |
| AC-13 | FR-11 | US-13 | High | Not Started |
| AC-14 | FR-11 | US-14 | Medium | Not Started |
| AC-15 | FR-13 | US-15 | Medium | Not Started |
| AC-16 | FR-14 | US-16 | Low | Not Started |
| AC-17 | FR-16 | US-18 | High | Not Started |
| AC-18 | FR-15 | US-19 | High | Not Started |
| AC-19 | FR-17 | US-20 | High | Not Started |
| AC-20 | NFR-1, NFR-2, NFR-3 | - | High | Not Started |
| AC-21 | NFR-4, NFR-5, NFR-6 | - | High | Not Started |
| AC-22 | NFR-10, NFR-11, NFR-12, NFR-13 | - | High | Not Started |

---

## История изменений

| Версия | Дата | Автор | Описание изменений |
|--------|------|-------|-------------------|
| 1.0 | 2024-11-04 | System Architect | Первоначальная версия AC |

